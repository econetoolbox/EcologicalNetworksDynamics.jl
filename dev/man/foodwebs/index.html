<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Generate Food Webs · EcologicalNetworksDynamics.jl</title><meta name="title" content="Generate Food Webs · EcologicalNetworksDynamics.jl"/><meta property="og:title" content="Generate Food Webs · EcologicalNetworksDynamics.jl"/><meta property="twitter:title" content="Generate Food Webs · EcologicalNetworksDynamics.jl"/><meta name="description" content="Documentation for EcologicalNetworksDynamics.jl."/><meta property="og:description" content="Documentation for EcologicalNetworksDynamics.jl."/><meta property="twitter:description" content="Documentation for EcologicalNetworksDynamics.jl."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img class="docs-light-only" src="../../assets/logo.svg" alt="EcologicalNetworksDynamics.jl logo"/><img class="docs-dark-only" src="../../assets/logo-dark.svg" alt="EcologicalNetworksDynamics.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">EcologicalNetworksDynamics.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Welcome</a></li><li><span class="tocitem">Guide</span><ul><li><a class="tocitem" href="../quickstart/">Quick Start</a></li><li><a class="tocitem" href="../components/">The Model and its Components</a></li><li class="is-active"><a class="tocitem" href>Generate Food Webs</a><ul class="internal"><li><a class="tocitem" href="#From-an-Adjacency-Matrix"><span>From an Adjacency Matrix</span></a></li><li><a class="tocitem" href="#From-an-Adjacency-List"><span>From an Adjacency List</span></a></li><li><a class="tocitem" href="#Structural-Models"><span>Structural Models</span></a></li></ul></li><li><a class="tocitem" href="../simple-models/">Build Simple Models</a></li><li><a class="tocitem" href="../advanced-models/">Build Advanced Models</a></li><li><a class="tocitem" href="../simulate/">Simulate the Community Dynamics</a></li><li><a class="tocitem" href="../output-analysis/">Analyse the Simulated Dynamics</a></li></ul></li><li><span class="tocitem">Library</span><ul><li><a class="tocitem" href="../../lib/public/">Public</a></li><li><a class="tocitem" href="../../lib/internals/">Internals</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Guide</a></li><li class="is-active"><a href>Generate Food Webs</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Generate Food Webs</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/econetoolbox/EcologicalNetworksDynamics.jl/blob/main/docs/src/man/foodwebs.md#" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Generate-Food-Webs"><a class="docs-heading-anchor" href="#Generate-Food-Webs">Generate Food Webs</a><a id="Generate-Food-Webs-1"></a><a class="docs-heading-anchor-permalink" href="#Generate-Food-Webs" title="Permalink"></a></h1><p>Food webs are at the core of this package, and thus can be generated in various ways depending on your needs. In the following sections, we will go over the different methods of network generation. But, first things first, let us see what is inside a <a href="@ref"><code>Foodweb</code></a>.</p><p>A <a href="@ref"><code>Foodweb</code></a> object contains the trophic adjacency matrix <code>A</code> filled with 0s and 1s indicating respectively the absence and presence of trophic interactions. Rows are consumers and columns resources, thus <code>A[i,j] = 1</code> reads &quot;species <code>i</code> eats species <code>j</code>&quot;</p><h2 id="From-an-Adjacency-Matrix"><a class="docs-heading-anchor" href="#From-an-Adjacency-Matrix">From an Adjacency Matrix</a><a id="From-an-Adjacency-Matrix-1"></a><a class="docs-heading-anchor-permalink" href="#From-an-Adjacency-Matrix" title="Permalink"></a></h2><p>The most straightforward way to generate a <a href="@ref"><code>Foodweb</code></a> is to define your own adjacency matrix (<code>A</code>) by hand and give it to the <a href="@ref"><code>Foodweb</code></a> method that will return the corresponding <a href="@ref"><code>Foodweb</code></a> object.</p><pre><code class="language-julia hljs">A = [0 0 0; 1 0 0; 0 1 0] # 1 &lt;- 2 &lt;- 3.
foodweb = Foodweb(A)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">blueprint for <span class="sgr33">&lt;Foodweb&gt;</span>: <span class="sgr34">Matrix</span> {
  <span class="sgr36">A:</span> 3×3 sparse matrix with 2 values (true),
  <span class="sgr36">species:</span> <span class="sgr90">&lt;implied blueprint for </span><span class="sgr33">&lt;Species&gt;</span><span class="sgr90">&gt;</span>,
}</code></pre><h2 id="From-an-Adjacency-List"><a class="docs-heading-anchor" href="#From-an-Adjacency-List">From an Adjacency List</a><a id="From-an-Adjacency-List-1"></a><a class="docs-heading-anchor-permalink" href="#From-an-Adjacency-List" title="Permalink"></a></h2><p>Sometimes it is more convenient to define the food web using an adjacency list, because adjacency lists are often more readable than adjacency matrices. Adjacency lists are a list of pairs, where each pair is a consumer-resource interaction.</p><p>For instance, the food web presented in the previous example can be defined as:</p><pre><code class="language-julia hljs">list = [2 =&gt; 1, 3 =&gt; 2]
foodweb = Foodweb(list)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">blueprint for <span class="sgr33">&lt;Foodweb&gt;</span>: <span class="sgr34">Adjacency</span> {
  <span class="sgr36">A:</span> {2: {1}, 3: {2}},
  <span class="sgr36">species:</span> <span class="sgr90">&lt;implied blueprint for </span><span class="sgr33">&lt;Species&gt;</span><span class="sgr90">&gt;</span>,
}</code></pre><p>Species can also be named with strings or symbols:</p><pre><code class="language-julia hljs">list = [:eagle =&gt; :rabbit, :rabbit =&gt; :grass]
foodweb = Foodweb(list)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">blueprint for <span class="sgr33">&lt;Foodweb&gt;</span>: <span class="sgr34">Adjacency</span> {
  <span class="sgr36">A:</span> {eagle: {rabbit}, rabbit: {grass}},
  <span class="sgr36">species:</span> <span class="sgr90">&lt;implied blueprint for </span><span class="sgr33">&lt;Species&gt;</span><span class="sgr90">&gt;</span>,
}</code></pre><p>Creating a <a href="@ref"><code>Foodweb</code></a> from your own adjacency matrix or list is straightforward, but this is mostly useful for simple and small &#39;toy systems&#39;. If you want to work with <a href="@ref"><code>Foodweb</code></a>s with a large size and a realistic structure, it is more suitable to create the <a href="@ref"><code>Foodweb</code></a> using structural models.</p><h2 id="Structural-Models"><a class="docs-heading-anchor" href="#Structural-Models">Structural Models</a><a id="Structural-Models-1"></a><a class="docs-heading-anchor-permalink" href="#Structural-Models" title="Permalink"></a></h2><p>You can generate a <a href="@ref"><code>Foodweb</code></a> using either the <strong>niche model</strong> or the <strong>cascade model</strong>.</p><h3 id="Niche-Model"><a class="docs-heading-anchor" href="#Niche-Model">Niche Model</a><a id="Niche-Model-1"></a><a class="docs-heading-anchor-permalink" href="#Niche-Model" title="Permalink"></a></h3><p>The niche model requires:</p><ul><li><code>S</code>: Number of species.</li><li>Either <code>C</code> (connectance) <strong>or</strong> <code>L</code> (number of links).</li></ul><pre><code class="language-julia hljs">fw1 = Foodweb(:niche; S = 5, C = 0.2)
fw2 = Foodweb(:niche; S = 5, L = 5)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">blueprint for <span class="sgr33">&lt;Foodweb&gt;</span>: <span class="sgr34">Matrix</span> {
  <span class="sgr36">A:</span> 5×5 sparse matrix with 5 values (true),
  <span class="sgr36">species:</span> <span class="sgr90">&lt;implied blueprint for </span><span class="sgr33">&lt;Species&gt;</span><span class="sgr90">&gt;</span>,
}</code></pre><h3 id="Cascade-Model"><a class="docs-heading-anchor" href="#Cascade-Model">Cascade Model</a><a id="Cascade-Model-1"></a><a class="docs-heading-anchor-permalink" href="#Cascade-Model" title="Permalink"></a></h3><p>The cascade model requires:</p><ul><li><code>S</code>: Number of species.</li><li><code>C</code>: Connectance.</li></ul><pre><code class="language-julia hljs">fw3 = Foodweb(:cascade; S = 5, C = 0.2)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">blueprint for <span class="sgr33">&lt;Foodweb&gt;</span>: <span class="sgr34">Matrix</span> {
  <span class="sgr36">A:</span> 5×5 sparse matrix with 5 values (true),
  <span class="sgr36">species:</span> <span class="sgr90">&lt;implied blueprint for </span><span class="sgr33">&lt;Species&gt;</span><span class="sgr90">&gt;</span>,
}</code></pre><h3 id="Tolerance-and-Constraints"><a class="docs-heading-anchor" href="#Tolerance-and-Constraints">Tolerance and Constraints</a><a id="Tolerance-and-Constraints-1"></a><a class="docs-heading-anchor-permalink" href="#Tolerance-and-Constraints" title="Permalink"></a></h3><p>By default, the generated <a href="@ref"><code>Foodweb</code></a> ensures the number of links (<code>L</code>) or connectance (<code>C</code>) falls within a <strong>10% tolerance</strong> of the specified value:</p><ul><li>If <code>L = 20</code>, the output will have <strong>18–22 links</strong>.</li><li>If <code>C</code> is given, the tolerance is similarly applied to the connectance.</li></ul><h4 id="Example:-Default-Tolerance"><a class="docs-heading-anchor" href="#Example:-Default-Tolerance">Example: Default Tolerance</a><a id="Example:-Default-Tolerance-1"></a><a class="docs-heading-anchor-permalink" href="#Example:-Default-Tolerance" title="Permalink"></a></h4><pre><code class="language-julia hljs">fw4 = Foodweb(:niche; S = 15, L = 15)
13 &lt;= sum(fw4.A) &lt;= 18  # 15 links ±10% (rounded)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">true</code></pre><h4 id="Custom-Tolerance"><a class="docs-heading-anchor" href="#Custom-Tolerance">Custom Tolerance</a><a id="Custom-Tolerance-1"></a><a class="docs-heading-anchor-permalink" href="#Custom-Tolerance" title="Permalink"></a></h4><p>Override defaults with <code>tol_L</code> (for <code>L</code>) or <code>tol_C</code> (for <code>C</code>):</p><pre><code class="language-julia hljs">fw5 = Foodweb(:niche; S = 15, L = 15, tol_L = 0)  # Strictly 15 links
sum(fw5.A) == 15</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">true</code></pre><h3 id="Advanced-Control"><a class="docs-heading-anchor" href="#Advanced-Control">Advanced Control</a><a id="Advanced-Control-1"></a><a class="docs-heading-anchor-permalink" href="#Advanced-Control" title="Permalink"></a></h3><h4 id="Trophic-Structure-Validation"><a class="docs-heading-anchor" href="#Trophic-Structure-Validation">Trophic Structure Validation</a><a id="Trophic-Structure-Validation-1"></a><a class="docs-heading-anchor-permalink" href="#Trophic-Structure-Validation" title="Permalink"></a></h4><p>By default, the model:</p><ul><li><strong>Rejects disconnected species</strong> (<code>reject_if_disconnected = true</code>).</li><li><strong>Allows cycles</strong> (<code>reject_cycles = false</code>; e.g., cannibalism).</li></ul><h5 id="Options:"><a class="docs-heading-anchor" href="#Options:">Options:</a><a id="Options:-1"></a><a class="docs-heading-anchor-permalink" href="#Options:" title="Permalink"></a></h5><pre><code class="language-julia hljs">fw6 = Foodweb(:niche; S = 15, L = 15, reject_cycles = false)  # Allow cycles
fw7 = Foodweb(:niche; S = 15, L = 15, reject_if_disconnected = false)  # Allow disconnected species</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">blueprint for <span class="sgr33">&lt;Foodweb&gt;</span>: <span class="sgr34">Matrix</span> {
  <span class="sgr36">A:</span> 15×15 sparse matrix with 17 values (true),
  <span class="sgr36">species:</span> <span class="sgr90">&lt;implied blueprint for </span><span class="sgr33">&lt;Species&gt;</span><span class="sgr90">&gt;</span>,
}</code></pre><h4 id="Algorithm-Iterations"><a class="docs-heading-anchor" href="#Algorithm-Iterations">Algorithm Iterations</a><a id="Algorithm-Iterations-1"></a><a class="docs-heading-anchor-permalink" href="#Algorithm-Iterations" title="Permalink"></a></h4><p>The default maximum iterations (<code>10^5</code>) can be increased for challenging parameter combinations (e.g., near boundary conditions or strict tolerances):</p><pre><code class="language-julia hljs">fw8 = Foodweb(:niche; S = 15, L = 15, max_iterations = 10^6)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">blueprint for <span class="sgr33">&lt;Foodweb&gt;</span>: <span class="sgr34">Matrix</span> {
  <span class="sgr36">A:</span> 15×15 sparse matrix with 17 values (true),
  <span class="sgr36">species:</span> <span class="sgr90">&lt;implied blueprint for </span><span class="sgr33">&lt;Species&gt;</span><span class="sgr90">&gt;</span>,
}</code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../components/">« The Model and its Components</a><a class="docs-footer-nextpage" href="../simple-models/">Build Simple Models »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.10.1 on <span class="colophon-date" title="Friday 4 April 2025 10:06">Friday 4 April 2025</span>. Using Julia version 1.11.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
